<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Vision Marine - Calculadora</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-image: url("background.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      padding: 40px;
    }

    /* LOGO */
    .header-logo {
      position: fixed;
      top: 30px;
      left: 50px;
      z-index: 1000;
    }

    .header-logo img {
      max-width: 150px;
    }

    .container {
      max-width: 900px;
      margin: auto;
      margin-top: 120px; /* espacio para el logo */
    }

    .card {
      background: white;
      padding: 25px;
      margin-bottom: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    h2 {
      margin-bottom: 15px;
    }

    label {
      font-weight: bold;
    }

    input {
      width: 100%;
      padding: 8px;
      margin: 8px 0 15px 0;
    }

    button {
      padding: 10px;
      width: 100%;
      background: #0050a5;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .result {
      margin-top: 15px;
      background: #f0f8ff;
      padding: 15px;
      border-radius: 5px;
    }
  </style>
</head>

<body>

<!-- LOGO -->
<div class="header-logo">
  <img src="logo.png" alt="Logo">
</div>

<div class="container">

  <!-- CALCULADORA 1 -->
  <div class="card">
    <h2>üìò Calculadora de Prova</h2>

    <label>Data da 1¬™ tentativa</label>
    <input type="date" id="firstAttempt">

    <button onclick="calculateAttempts()">Calcular</button>

    <div class="result" id="attemptResult" style="display:none;"></div>
  </div>

  <!-- CALCULADORA 2 -->
  <div class="card">
    <h2>üö¢ Calculadora de Escala</h2>

    <label>Data de embarque</label>
    <input type="date" id="boardingDate">

    <label>Dias de escala (ex: 14, 21, 28)</label>
    <input type="number" id="rotationDays" value="28">

    <button onclick="calculateRotation()">Calcular</button>

    <div class="result" id="rotationResult" style="display:none;"></div>
  </div>

</div>

<script>
  function parseLocalDate(dateString) {
    const [year, month, day] = dateString.split("-");
    return new Date(year, month - 1, day);
  }

  function formatDateBR(date) {
    return date.toLocaleDateString("pt-BR");
  }

  function calculateAttempts() {
    const input = document.getElementById("firstAttempt").value;
    if (!input) {
      alert("Informe a data da primeira tentativa.");
      return;
    }

    const first = parseLocalDate(input);

    const second = new Date(first);
    second.setDate(second.getDate() + 4);

    const third = new Date(first);
    third.setDate(third.getDate() + 180);

    document.getElementById("attemptResult").style.display = "block";
    document.getElementById("attemptResult").innerHTML = `
      <strong>Resultados:</strong><br><br>
      üü¢ 1¬™ tentativa: ${formatDateBR(first)}<br>
      üü° Limite 2¬™ tentativa (96h): ${formatDateBR(second)}<br>
      üî¥ Limite 3¬™ tentativa (180 dias): ${formatDateBR(third)}
    `;
  }

  function calculateRotation() {
    const boardingInput = document.getElementById("boardingDate").value;
    const rotation = parseInt(document.getElementById("rotationDays").value);

    if (!boardingInput || !rotation) {
      alert("Preencha todos os campos.");
      return;
    }

    const boarding = parseLocalDate(boardingInput);

    const disembark = new Date(boarding);
    disembark.setDate(disembark.getDate() + rotation);

    const nextBoarding = new Date(disembark);
    nextBoarding.setDate(nextBoarding.getDate() + rotation);

    document.getElementById("rotationResult").style.display = "block";
    document.getElementById("rotationResult").innerHTML = `
      <strong>Resultados:</strong><br><br>
      ‚öì Embarque: ${formatDateBR(boarding)}<br>
      üõ¨ Desembarque: ${formatDateBR(disembark)}<br>
      üèñÔ∏è Per√≠odo de folga: ${rotation} dias<br>
      üö¢ Pr√≥ximo embarque: ${formatDateBR(nextBoarding)}
    `;
  }
</script>

</body>
</html>
